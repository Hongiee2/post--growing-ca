<!doctype html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://distill.pub/template.v2.js"></script>
  <style>
  </style>
  <script src="twgl.min.js"></script>
  <script type="module" src="./demo.js"></script>
</head>

<body>

  <d-front-matter>
    <script type="text/json">{
      "title": "Growing Cellular Automata",
      "description": "Differentiable Self-Organisation: Cellular Automata model of Morphogenesis.",
      "password": "selforg",
      "authors": [
        {
          "author": "Alexnader Mordvintsev",
          "authorURL": "https://znah.net/",
          "affiliation": "Google",
          "affiliationURL": "https://ai.google/"
        },
        {
          "author": "Ettore Randazzo",
          "authorURL": "",
          "affiliation": "Google",
          "affiliationURL": "https://ai.google/"
        },
        {
            "author": "Eyvind Niklasson",
            "authorURL": "",
            "affiliation": "Google",
            "affiliationURL": "https://ai.google/"
        }
      ],
      "katex": {
        "delimiters": [
          {
            "left": "$",
            "right": "$",
            "display": false
          },
          {
            "left": "$$",
            "right": "$$",
            "display": true
          }
        ]
      }
    }</script>
  </d-front-matter>

  <style>
    .demoCanvas {
      border: 1px solid lightgrey;
      image-rendering: pixelated;
      touch-action: none;
      width: 100%;
      max-width: 500px;
    }

    #demoControls {
      font-size: 0.9em;
    }
   
    @media (min-width: 768px) {
      #demoControls {
        max-width: 200px;
      }
    }

    #status {
      color: rgba(0, 0, 0, 0.6);
      font-size: 12px;
      position: absolute;
    }
    figure img {
     width: inherit;
    }

    #experimentSelector * {
      cursor: pointer;
      border: 1px solid lightgrey;
      white-space: nowrap;
    }
    #experimentSelector *:hover {
      background-color: lightyellow;
    }
  </style>

  <d-title>
    <h1>Growing Neural Cellular Automata</h1>
    <p>Differentiable Model of Morphogenesis</p>

    <p>
      <b>Please propose edits in the Google Docs
        <a href="https://docs.google.com/document/d/11UnoVOWPncooSMQFqBigcLzP-dVyalmgrLa2pWFxhuM">
          version of this document</a>.</b>
    </p>
    <div class="l-body grid" id="demo">
      <div>
        <span id='status'></span>
        <canvas id="c" class="demoCanvas">
        </canvas><br>
        
      </div>
      <div id="demoControls" class="side">
        <b>Model type:</b> <span id='experimentSelector'>
            <span id="ex1">growing</span>
            <span id="ex2">+ persistent</span>
            <span id="ex3">+ regenerating</span>
        </span> <br>
        Select target: <span id="emojiSelector"></span> <br>
        <input type="checkbox" id="throttle"> Full throttle<br>
        <label for="angle">Rotation</label>
        <input type="range" id="angle" min="0" max="360" step="10" value="0"> <br>
        
        <button id="resetButton">Reset</button>
      </div>
      <figcaption>
        This demo invites the reader to interact with pattern-generating
        Neural Cellular Automata models described in this article.
        Click or tap the image to erase the part of the pattern and see it regenerate.
        Double clicking places a new seed cell on the grid.
      </figcaption>
    </div>
  </d-title>

  <script type="module">
    import { createDemo } from './demo.js'
    createDemo('demo');
  </script>